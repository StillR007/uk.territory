const dateInput=document.querySelector("#appeals-period"),dateLabel=document.querySelector("#date-label"),dateInnerText=document.querySelector("#appeals-period--text"),dateFrom=document.querySelector("#date-from"),dateTo=document.querySelector("#date-to");function closeDatePicker(){dateLabel.classList.remove("active"),dateInput.classList.remove("active"),dateFrom.classList.remove("active"),dateTo.classList.remove("active")}let dateFromSpan,dateToSpan,dateFromObj,dateToObj;function insertValues(){if(dateInnerText.innerText="",dateFrom.value&&!dateTo.value){closeDatePicker(),dateInnerText.innerText="с "+new Date(dateFrom.value).toLocaleDateString();let e=new Date(dateFrom.value).toLocaleDateString().split(".").reverse().join("-");return data.dateFrom=e,void appealsAjax(data)}if(!dateFrom.value&&dateTo.value){closeDatePicker(),dateInnerText.innerText="по "+new Date(dateTo.value).toLocaleDateString();let e=new Date(dateTo.value).toLocaleDateString().split(".").reverse().join("-");return data.dateTo=e,void appealsAjax(data)}if(dateFrom.value&&dateTo.value){closeDatePicker(),dateInnerText.innerText=`с ${new Date(dateFrom.value).toLocaleDateString()} по ${new Date(dateTo.value).toLocaleDateString()}`;let e=new Date(dateFrom.value).toLocaleDateString().split(".").reverse().join("-"),t=new Date(dateTo.value).toLocaleDateString().split(".").reverse().join("-");return data.dateTo=t,data.dateFrom=e,void appealsAjax(data)}if(!dateFrom.value&&!dateTo.value)return closeDatePicker(),void(dateInnerText.innerText="Период")}document.addEventListener("click",e=>{let t=e.target;t==dateFrom||t==dateTo||t==dateLabel||t==dateInnerText||(dateLabel.classList.remove("active"),dateFrom.classList.remove("active"),dateTo.classList.remove("active"),dateInput.classList.remove("active"))}),dateInput.addEventListener("click",(function(){this.classList.add("active"),dateLabel.classList.add("active"),dateFrom.classList.add("active"),dateTo.classList.add("active")})),dateFrom.addEventListener("change",(function(){dateTo.setAttribute("min",dateFrom.value),insertValues(),showDeleteIcon()})),dateTo.addEventListener("change",(function(){dateFrom.setAttribute("max",dateTo.value),insertValues(),showDeleteIcon()}));